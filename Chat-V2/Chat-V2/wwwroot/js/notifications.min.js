"use strict";function addBadge(){var n=document.getElementsByClassName("notif-new");for(var t of n)t.removeAttribute("hidden")}const notifConnection=(new signalR.HubConnectionBuilder).withUrl("/notifHub").configureLogging(signalR.LogLevel.Information).build();var notifConnectionPromise=notifConnection.start().then(function(){console.log("connected to notification hub");notifConnection.invoke("GetNumNewMessages")}).catch(function(n){return console.error(n.toString())});notifConnection.on("NewNotification",function(){addBadge()});notifConnection.on("ReceiveNumNewMessages",function(n){var t,i;n.num>0&&(t=document.createElement("span"),t.setAttribute("class","badge badge-success"),t.textContent=n.num,i=document.getElementById("message-new"),i.hasChildNodes()||i.appendChild(t))});