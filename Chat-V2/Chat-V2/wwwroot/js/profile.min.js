"use strict";function decrementInvitationsCount(){var n=document.getElementById("invitations-badge"),t=parseInt(n.textContent)-1;t==0&&n.setAttribute("hidden","hidden");n.textContent=t}function incrementNotifsCount(){var n=document.getElementById("notifs-badge"),t=parseInt(n.textContent)+1;t>0&&(n.removeAttribute("hidden"),document.getElementById("no-notifs").setAttribute("hidden","hidden"));n.textContent=t}function decrementNotifsCount(){var n=document.getElementById("notifs-badge"),t=parseInt(n.textContent)-1,i;if(t==0){n.setAttribute("hidden","hidden");document.getElementById("no-notifs").removeAttribute("hidden");for(i in document.getElementsByClassName("notif-new"))i.setAttribute("hidden","hidden")}n.textContent=t}invitationsCount!=0&&document.getElementById("invitations-badge").removeAttribute("hidden");notifConnectionPromise.then(function(){var n={ChatUserID:viewmodel.UserID};notifConnection.invoke("GetNotifications",n).catch(function(n){return console.error(n.toString())})}).catch(function(n){return console.error(n.toString())});notifConnection.on("ReceiveNotifications",function(n){$.each(n,function(){var n=this,t,f,i,r,u,e,s,o;incrementNotifsCount();console.log(n.text);t=document.createElement("div");t.setAttribute("class","card");t.setAttribute("id","notif-"+n.notificationID);t.setAttribute("notificationID",n.notificationID);f=document.createElement("div");f.setAttribute("class","card-header");t.append(f);i=document.createElement("a");i.setAttribute("class","card-link");i.setAttribute("data-toggle","collapse");i.setAttribute("href","#notif-collapse-"+n.notificationID);i.textContent=n.title;f.append(i);r=document.createElement("button");r.setAttribute("type","button");r.setAttribute("class","close");r.addEventListener("click",function(){var n=parseInt(t.getAttribute("notificationID")),i;document.getElementById("notifications-list").removeChild(document.getElementById("notif-"+n));decrementNotifsCount();i={ChatUserID:viewmodel.UserID,NotificationID:n};notifConnection.invoke("RemoveNotification",i)});r.textContent="Ã—";f.append(r);u=document.createElement("div");u.setAttribute("data-parent","#notifications-list");u.setAttribute("class","collapse");u.setAttribute("id","notif-collapse-"+n.notificationID);t.append(u);e=document.createElement("div");e.setAttribute("class","card-body");u.append(e);s=document.createElement("p");s.setAttribute("class","card-text");s.textContent=n.text;e.append(s);o=document.createElement("a");o.setAttribute("href",n.viewURL);o.setAttribute("class","card-link");o.textContent="View";e.append(o);document.getElementById("notifications-list").prepend(t)})});